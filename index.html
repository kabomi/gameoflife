<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Conway's Game of Life</title>
</head>
<body>

</body>
<script type="application/javascript" src="world.js"></script>
<script type="application/javascript" src="grid.js"></script>
<script type="application/javascript" src="gridRow.js"></script>
<script type="application/javascript" src="cells.js"></script>
<script type="application/javascript" src="neighbours.js"></script>
<script type="application/javascript" src="rules.js"></script>
<script type="application/javascript">
    var size = 80;

    function main() {
        schedule(new World(size));
    }

    function schedule(world) {
        draw(world);
        function drawIteration() {
            world.iterate();
            draw(world);

            window.setTimeout(drawIteration, 100);
        }

        window.setTimeout(drawIteration, 100);
    }
    function draw(world){
        var buffer = new Buffer();
        world.print(buffer);
        buffer.draw();
    }
    function Buffer(){
        var data = "";
        this.append = function (stringData){
            data = data.concat(stringData);
        };
        this.draw = function () {
            document.body.innerHTML = '<pre>'+data+'</pre>';
        };
    }
</script>
</html>
